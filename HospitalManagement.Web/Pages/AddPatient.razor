@page "/AddPatient"
@using HospitalManagement.Web.Contracts
@using HospitalManagement.Web.Models
@inject IPatient PatientService;
<h3>Add Patient</h3>

<div class="container">
    <form>
        <div class="mb-3">
            <label for="firstName" class="form-label">First Name:</label>
            <InputText id="firstName" class="form-control" @bind-Value="newPatient.FirstName" />
            @* <input type="text" id="firstName" class="form-control" bind="@newPatient.FirstName" /> *@
        </div>

        <div class="mb-3">
            <label for="lastName" class="form-label">Last Name:</label>
            <InputText id="lastName" class="form-control" @bind-Value="newPatient.LastName" />
        </div>

        <div class="mb-3">
            <label for="address" class="form-label">Address:</label>
            @* <input type="text" id="address" class="form-control" bind="@newPatient.Address" /> *@
            <InputText id="address" class="form-control" @bind-Value="newPatient.Address" />
        </div>

        <div class="mb-3">
            <label for="state" class="form-label">State:</label>
            <InputText id="state" class="form-control" @bind-Value="newPatient.State" />
        </div>

        <div class="mb-3">
            <label for="city" class="form-label">City:</label>
            <InputText id="city" class="form-control" @bind-Value="newPatient.City" />
        </div>

        <!-- Add other input fields for patient details -->

        <button type="submit" @onclick="AddPatients" class="btn btn-primary">Add Patient</button>
    </form>
</div>

@code {
    @inject NavigationManager NavigationManager
    private Patient newPatient = new Patient();

    private void AddPatients()
    {
        PatientService.AddPatient(newPatient);
        newPatient = new Patient(); // Clear the form
        NavigationManager.NavigateTo("/"); // Redirect to the patients list page
    }
}
